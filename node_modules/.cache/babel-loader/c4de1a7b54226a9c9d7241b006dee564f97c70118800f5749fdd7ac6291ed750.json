{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = [\"checked\", \"onChange\"];\nconst _hoisted_2 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredTodos, (todo, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index\n    }, [_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      checked: todo.done,\n      onChange: $event => _ctx.toggleTodoStatus(index)\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_1), _createElementVNode(\"span\", {\n      class: _normalizeClass({\n        done: todo.done\n      })\n    }, _toDisplayString(todo.text), 3 /* TEXT, CLASS */), _createElementVNode(\"span\", null, \" - \" + _toDisplayString($options.formatDate(todo.date)), 1 /* TEXT */), _createCommentVNode(\" 추가된 기본 날짜 \"), _createElementVNode(\"span\", null, \" (기간: \" + _toDisplayString($options.formatDate(todo.startDate)) + \" ~ \" + _toDisplayString($options.formatDate(todo.endDate)) + \")\", 1 /* TEXT */), _createCommentVNode(\" 시작 날짜와 종료 날짜 표시 \"), _createElementVNode(\"span\", null, \" (남은 기간: \" + _toDisplayString($options.calculateRemainingDays(todo.endDate)) + \"일)\", 1 /* TEXT */), _createCommentVNode(\" 남은 기간 표시 \"), _createElementVNode(\"button\", {\n      onClick: $event => _ctx.removeTodo(index)\n    }, \"삭제\", 8 /* PROPS */, _hoisted_2)]);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_renderList","$options","filteredTodos","todo","index","key","_createElementVNode","type","checked","done","onChange","$event","_ctx","toggleTodoStatus","_hoisted_1","class","_normalizeClass","text","_toDisplayString","formatDate","date","_createCommentVNode","startDate","endDate","calculateRemainingDays","onClick","removeTodo","_hoisted_2"],"sources":["C:\\Users\\zmark\\OneDrive\\Desktop\\vue\\practice1\\project1\\src\\components\\TodoList.vue"],"sourcesContent":["<template>\r\n  <ul>\r\n    <li v-for=\"(todo, index) in filteredTodos\" :key=\"index\">\r\n      <input type=\"checkbox\" :checked=\"todo.done\" @change=\"toggleTodoStatus(index)\" />\r\n      <span :class=\"{ done: todo.done }\">{{ todo.text }}</span>\r\n      <span> - {{ formatDate(todo.date) }}</span> <!-- 추가된 기본 날짜 -->\r\n      <span> (기간: {{ formatDate(todo.startDate) }} ~ {{ formatDate(todo.endDate) }})</span> <!-- 시작 날짜와 종료 날짜 표시 -->\r\n      <span> (남은 기간: {{ calculateRemainingDays(todo.endDate) }}일)</span> <!-- 남은 기간 표시 -->\r\n      <button @click=\"removeTodo(index)\">삭제</button>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex';\r\n\r\nexport default {\r\n  props: {\r\n    filterStatus: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    sortByRemainingDays: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['todos']),  // Vuex에서 todos 가져오기\r\n\r\n    // 필터링된 할 일 목록\r\n    filteredTodos() {\r\n      let todos = this.todos;\r\n      \r\n      // 필터링: 미완료, 완료, 전체\r\n      if (this.filterStatus === 'active') {\r\n        todos = todos.filter(todo => !todo.done);\r\n      } else if (this.filterStatus === 'completed') {\r\n        todos = todos.filter(todo => todo.done);\r\n      }\r\n\r\n      // 정렬: 남은 기간순 정렬 (endDate 기준)\r\n      if (this.sortByRemainingDays) {\r\n        todos = todos.slice().sort((a, b) => this.calculateRemainingDays(a.endDate) - this.calculateRemainingDays(b.endDate));\r\n      }\r\n\r\n      return todos;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['removeTodo', 'toggleTodoStatus']),  // Vuex 액션 바인딩\r\n\r\n    formatDate(date) {\r\n      if (!date) return '';  // 날짜가 없을 때 빈 값 처리\r\n      const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n      return new Date(date).toLocaleDateString(undefined, options);\r\n    },\r\n\r\n    calculateRemainingDays(endDate) {\r\n      if (!endDate) return '';  // 종료 날짜가 없을 경우 빈 값 반환\r\n      const currentDate = new Date();\r\n      const targetDate = new Date(endDate);\r\n      const timeDiff = targetDate - currentDate;  // 두 날짜 간의 차이 계산\r\n      const daysRemaining = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));  // 남은 일 수 계산\r\n      return daysRemaining > 0 ? daysRemaining : 0;  // 남은 일 수가 0 이하이면 0으로 반환\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.done {\r\n  text-decoration: line-through;\r\n}\r\n</style>\r\n"],"mappings":";mBAAA;mBAAA;;uBACEA,mBAAA,CASK,c,kBARHA,mBAAA,CAOKC,SAAA,QATTC,WAAA,CAEgCC,QAAA,CAAAC,aAAa,EAF7C,CAEgBC,IAAI,EAAEC,KAAK;yBAAvBN,mBAAA,CAOK;MAPuCO,GAAG,EAAED;IAAK,IACpDE,mBAAA,CAAgF;MAAzEC,IAAI,EAAC,UAAU;MAAEC,OAAO,EAAEL,IAAI,CAACM,IAAI;MAAGC,QAAM,EAAAC,MAAA,IAAEC,IAAA,CAAAC,gBAAgB,CAACT,KAAK;6CAHjFU,UAAA,GAIMR,mBAAA,CAAyD;MAAlDS,KAAK,EAJlBC,eAAA;QAAAP,IAAA,EAI4BN,IAAI,CAACM;MAAI;wBAAON,IAAI,CAACc,IAAI,yBAC/CX,mBAAA,CAA2C,cAArC,KAAG,GAAAY,gBAAA,CAAGjB,QAAA,CAAAkB,UAAU,CAAChB,IAAI,CAACiB,IAAI,mBAAYC,mBAAA,eAAkB,EAC9Df,mBAAA,CAAqF,cAA/E,QAAM,GAAAY,gBAAA,CAAGjB,QAAA,CAAAkB,UAAU,CAAChB,IAAI,CAACmB,SAAS,KAAI,KAAG,GAAAJ,gBAAA,CAAGjB,QAAA,CAAAkB,UAAU,CAAChB,IAAI,CAACoB,OAAO,KAAI,GAAC,iBAAQF,mBAAA,qBAAwB,EAC9Gf,mBAAA,CAAkE,cAA5D,WAAS,GAAAY,gBAAA,CAAGjB,QAAA,CAAAuB,sBAAsB,CAACrB,IAAI,CAACoB,OAAO,KAAI,IAAE,iBAAQF,mBAAA,cAAiB,EACpFf,mBAAA,CAA8C;MAArCmB,OAAK,EAAAd,MAAA,IAAEC,IAAA,CAAAc,UAAU,CAACtB,KAAK;OAAG,IAAE,iBAR3CuB,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}